{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nvar _app = _interopRequireDefault(require(\"./app\"));\nvar _database = require(\"./database\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_app.default.listen(process.env.PORT || 3000);\nconsole.log(\"server listen on PORT:\", 3000);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwIGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBwb29sIH0gZnJvbSBcIi4vZGF0YWJhc2VcIjtcclxuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xyXG5jb25zb2xlLmxvZyhcInNlcnZlciBsaXN0ZW4gb24gUE9SVDpcIiwgMzAwMCk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQWtDO0FBQ2xDQSxZQUFHLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJLENBQUM7QUFDcENDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyJ9","map":{"version":3,"names":["app","listen","process","env","PORT","console","log"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\","sources":["index.js"],"sourcesContent":["import app from \"./app\";\r\nimport { pool } from \"./database\";\r\napp.listen(process.env.PORT || 3000);\r\nconsole.log(\"server listen on PORT:\", 3000);\r\n"],"mappings":";;AAAA;AACA;AAAkC;AAClCA,YAAG,CAACC,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACpCC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC"}},"mtime":1667964623598},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\nvar _producto = _interopRequireDefault(require(\"./routes/producto.routes\"));\nvar _categoria = _interopRequireDefault(require(\"./routes/categoria.controllers\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\nvar cors = require(\"cors\");\napp.use(_express.default.json());\napp.use(cors());\napp.use((0, _morgan.default)(\"dev\"));\napp.get(\"/\", (req, res) => {\n  res.send(\"<h1>Bienvenidos al Backend del Examen</h1><p>Desarrollado por Alvaro Alva Chipana</p>\");\n});\napp.use(\"/producto\", _producto.default);\napp.use(\"/categorias\", _categoria.default);\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiY29ycyIsInJlcXVpcmUiLCJ1c2UiLCJqc29uIiwibW9yZ2FuIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsInByb2R1Y3Rvcm91dGVzIiwiY2F0ZWdvcmlhcm91dGVzIl0sInNvdXJjZVJvb3QiOiJEOlxcZ2l0aHViZGVza29wXFxiYWNrZW5kX25vZGVpbnRlZ3JhZG9yXFxzcmNcXCIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtb3JnYW4gZnJvbSBcIm1vcmdhblwiO1xyXG5pbXBvcnQgcHJvZHVjdG9yb3V0ZXMgZnJvbSBcIi4vcm91dGVzL3Byb2R1Y3RvLnJvdXRlc1wiO1xyXG5pbXBvcnQgY2F0ZWdvcmlhcm91dGVzIGZyb20gXCIuL3JvdXRlcy9jYXRlZ29yaWEuY29udHJvbGxlcnNcIjtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG52YXIgY29ycyA9IHJlcXVpcmUoXCJjb3JzXCIpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5hcHAudXNlKG1vcmdhbihcImRldlwiKSk7XHJcblxyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZChcclxuICAgIFwiPGgxPkJpZW52ZW5pZG9zIGFsIEJhY2tlbmQgZGVsIEV4YW1lbjwvaDE+PHA+RGVzYXJyb2xsYWRvIHBvciBBbHZhcm8gQWx2YSBDaGlwYW5hPC9wPlwiXHJcbiAgKTtcclxufSk7XHJcblxyXG5hcHAudXNlKFwiL3Byb2R1Y3RvXCIsIHByb2R1Y3Rvcm91dGVzKTtcclxuYXBwLnVzZShcIi9jYXRlZ29yaWFzXCIsIGNhdGVnb3JpYXJvdXRlcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBNkQ7QUFDN0QsTUFBTUEsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7QUFDckIsSUFBSUMsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzFCSCxHQUFHLENBQUNJLEdBQUcsQ0FBQ0gsZ0JBQU8sQ0FBQ0ksSUFBSSxFQUFFLENBQUM7QUFDdkJMLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDRixJQUFJLEVBQUUsQ0FBQztBQUNmRixHQUFHLENBQUNJLEdBQUcsQ0FBQyxJQUFBRSxlQUFNLEVBQUMsS0FBSyxDQUFDLENBQUM7QUFFdEJOLEdBQUcsQ0FBQ08sR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QkEsR0FBRyxDQUFDQyxJQUFJLENBQ04sdUZBQXVGLENBQ3hGO0FBQ0gsQ0FBQyxDQUFDO0FBRUZWLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDLFdBQVcsRUFBRU8saUJBQWMsQ0FBQztBQUNwQ1gsR0FBRyxDQUFDSSxHQUFHLENBQUMsYUFBYSxFQUFFUSxrQkFBZSxDQUFDO0FBQUMsZUFFekJaLEdBQUc7QUFBQSJ9","map":{"version":3,"names":["app","express","cors","require","use","json","morgan","get","req","res","send","productoroutes","categoriaroutes"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\","sources":["app.js"],"sourcesContent":["import express from \"express\";\r\nimport morgan from \"morgan\";\r\nimport productoroutes from \"./routes/producto.routes\";\r\nimport categoriaroutes from \"./routes/categoria.controllers\";\r\nconst app = express();\r\nvar cors = require(\"cors\");\r\napp.use(express.json());\r\napp.use(cors());\r\napp.use(morgan(\"dev\"));\r\n\r\napp.get(\"/\", (req, res) => {\r\n  res.send(\r\n    \"<h1>Bienvenidos al Backend del Examen</h1><p>Desarrollado por Alvaro Alva Chipana</p>\"\r\n  );\r\n});\r\n\r\napp.use(\"/producto\", productoroutes);\r\napp.use(\"/categorias\", categoriaroutes);\r\n\r\nexport default app;\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAA6D;AAC7D,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrB,IAAIC,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC1BH,GAAG,CAACI,GAAG,CAACH,gBAAO,CAACI,IAAI,EAAE,CAAC;AACvBL,GAAG,CAACI,GAAG,CAACF,IAAI,EAAE,CAAC;AACfF,GAAG,CAACI,GAAG,CAAC,IAAAE,eAAM,EAAC,KAAK,CAAC,CAAC;AAEtBN,GAAG,CAACO,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACC,IAAI,CACN,uFAAuF,CACxF;AACH,CAAC,CAAC;AAEFV,GAAG,CAACI,GAAG,CAAC,WAAW,EAAEO,iBAAc,CAAC;AACpCX,GAAG,CAACI,GAAG,CAAC,aAAa,EAAEQ,kBAAe,CAAC;AAAC,eAEzBZ,GAAG;AAAA"}},"mtime":1665503909214},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\nvar _auth = _interopRequireDefault(require(\"./routes/auth.routes\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\nvar cors = require(\"cors\");\napp.use(_express.default.json());\napp.use(cors());\napp.use((0, _morgan.default)(\"dev\"));\napp.get(\"/\", (req, res) => {\n  res.send(\"<h1>Bienvenidos al Backend del Proyecto Integrador</h1><p>Desarrollado por el grupo N° 1</p>\");\n});\napp.use(\"/api/auth\", _auth.default);\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiY29ycyIsInJlcXVpcmUiLCJ1c2UiLCJqc29uIiwibW9yZ2FuIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImF1dGhSb3V0ZXMiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IG1vcmdhbiBmcm9tIFwibW9yZ2FuXCI7XHJcbmltcG9ydCBhdXRoUm91dGVzIGZyb20gXCIuL3JvdXRlcy9hdXRoLnJvdXRlc1wiO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbnZhciBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcclxuXHJcbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKFxyXG4gICAgXCI8aDE+QmllbnZlbmlkb3MgYWwgQmFja2VuZCBkZWwgUHJveWVjdG8gSW50ZWdyYWRvcjwvaDE+PHA+RGVzYXJyb2xsYWRvIHBvciBlbCBncnVwbyBOwrAgMTwvcD5cIlxyXG4gICk7XHJcbn0pO1xyXG5hcHAudXNlKFwiL2FwaS9hdXRoXCIsIGF1dGhSb3V0ZXMpO1xyXG5leHBvcnQgZGVmYXVsdCBhcHA7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQThDO0FBQzlDLE1BQU1BLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxHQUFFO0FBQ3JCLElBQUlDLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUMxQkgsR0FBRyxDQUFDSSxHQUFHLENBQUNILGdCQUFPLENBQUNJLElBQUksRUFBRSxDQUFDO0FBQ3ZCTCxHQUFHLENBQUNJLEdBQUcsQ0FBQ0YsSUFBSSxFQUFFLENBQUM7QUFDZkYsR0FBRyxDQUFDSSxHQUFHLENBQUMsSUFBQUUsZUFBTSxFQUFDLEtBQUssQ0FBQyxDQUFDO0FBRXRCTixHQUFHLENBQUNPLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJBLEdBQUcsQ0FBQ0MsSUFBSSxDQUNOLDhGQUE4RixDQUMvRjtBQUNILENBQUMsQ0FBQztBQUNGVixHQUFHLENBQUNJLEdBQUcsQ0FBQyxXQUFXLEVBQUVPLGFBQVUsQ0FBQztBQUFDLGVBQ2xCWCxHQUFHO0FBQUEifQ==","map":{"version":3,"names":["app","express","cors","require","use","json","morgan","get","req","res","send","authRoutes"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\","sources":["app.js"],"sourcesContent":["import express from \"express\";\r\nimport morgan from \"morgan\";\r\nimport authRoutes from \"./routes/auth.routes\";\r\nconst app = express();\r\nvar cors = require(\"cors\");\r\napp.use(express.json());\r\napp.use(cors());\r\napp.use(morgan(\"dev\"));\r\n\r\napp.get(\"/\", (req, res) => {\r\n  res.send(\r\n    \"<h1>Bienvenidos al Backend del Proyecto Integrador</h1><p>Desarrollado por el grupo N° 1</p>\"\r\n  );\r\n});\r\napp.use(\"/api/auth\", authRoutes);\r\nexport default app;\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAA8C;AAC9C,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrB,IAAIC,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC1BH,GAAG,CAACI,GAAG,CAACH,gBAAO,CAACI,IAAI,EAAE,CAAC;AACvBL,GAAG,CAACI,GAAG,CAACF,IAAI,EAAE,CAAC;AACfF,GAAG,CAACI,GAAG,CAAC,IAAAE,eAAM,EAAC,KAAK,CAAC,CAAC;AAEtBN,GAAG,CAACO,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACC,IAAI,CACN,8FAA8F,CAC/F;AACH,CAAC,CAAC;AACFV,GAAG,CAACI,GAAG,CAAC,WAAW,EAAEO,aAAU,CAAC;AAAC,eAClBX,GAAG;AAAA"}},"mtime":1669077758752},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pool = void 0;\nvar mysql = require(\"mysql\");\nconst pool = mysql.createPool({\n  host: \"us-cdbr-east-06.cleardb.net\",\n  user: \"bcbbfa23540b29\",\n  password: \"8eedf331\",\n  database: \"heroku_b431d5eb0f8d695\",\n  port: 3306\n});\nexports.pool = pool;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJteXNxbCIsInJlcXVpcmUiLCJwb29sIiwiY3JlYXRlUG9vbCIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsInBvcnQiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcIiwic291cmNlcyI6WyJkYXRhYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXlzcWwgPSByZXF1aXJlKFwibXlzcWxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG4gIGhvc3Q6IFwidXMtY2Rici1lYXN0LTA2LmNsZWFyZGIubmV0XCIsXHJcbiAgdXNlcjogXCJiY2JiZmEyMzU0MGIyOVwiLFxyXG4gIHBhc3N3b3JkOiBcIjhlZWRmMzMxXCIsXHJcbiAgZGF0YWJhc2U6IFwiaGVyb2t1X2I0MzFkNWViMGY4ZDY5NVwiLFxyXG4gIHBvcnQ6IDMzMDYsXHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUVyQixNQUFNQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0csVUFBVSxDQUFDO0VBQ25DQyxJQUFJLEVBQUUsNkJBQTZCO0VBQ25DQyxJQUFJLEVBQUUsZ0JBQWdCO0VBQ3RCQyxRQUFRLEVBQUUsVUFBVTtFQUNwQkMsUUFBUSxFQUFFLHdCQUF3QjtFQUNsQ0MsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxDQUFDO0FBQUMifQ==","map":{"version":3,"names":["mysql","require","pool","createPool","host","user","password","database","port"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\","sources":["database.js"],"sourcesContent":["var mysql = require(\"mysql\");\r\n\r\nexport const pool = mysql.createPool({\r\n  host: \"us-cdbr-east-06.cleardb.net\",\r\n  user: \"bcbbfa23540b29\",\r\n  password: \"8eedf331\",\r\n  database: \"heroku_b431d5eb0f8d695\",\r\n  port: 3306,\r\n});\r\n"],"mappings":";;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAErB,MAAMC,IAAI,GAAGF,KAAK,CAACG,UAAU,CAAC;EACnCC,IAAI,EAAE,6BAA6B;EACnCC,IAAI,EAAE,gBAAgB;EACtBC,QAAQ,EAAE,UAAU;EACpBC,QAAQ,EAAE,wBAAwB;EAClCC,IAAI,EAAE;AACR,CAAC,CAAC;AAAC"}},"mtime":1669077436433},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pool = void 0;\nvar mysql = require(\"mysql\");\nconst pool = mysql.createPool({\n  host: \"us-cdbr-east-06.cleardb.net\",\n  user: \"bcbbfa23540b29\",\n  password: \"8eedf331\",\n  database: \"heroku_b431d5eb0f8d695\",\n  port: 3306\n});\nexports.pool = pool;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJteXNxbCIsInJlcXVpcmUiLCJwb29sIiwiY3JlYXRlUG9vbCIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsInBvcnQiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcIiwic291cmNlcyI6WyJkYXRhYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXlzcWwgPSByZXF1aXJlKFwibXlzcWxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG4gIGhvc3Q6IFwidXMtY2Rici1lYXN0LTA2LmNsZWFyZGIubmV0XCIsXHJcbiAgdXNlcjogXCJiY2JiZmEyMzU0MGIyOVwiLFxyXG4gIHBhc3N3b3JkOiBcIjhlZWRmMzMxXCIsXHJcbiAgZGF0YWJhc2U6IFwiaGVyb2t1X2I0MzFkNWViMGY4ZDY5NVwiLFxyXG4gIHBvcnQ6IDMzMDYsXHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUVyQixNQUFNQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0csVUFBVSxDQUFDO0VBQ25DQyxJQUFJLEVBQUUsNkJBQTZCO0VBQ25DQyxJQUFJLEVBQUUsZ0JBQWdCO0VBQ3RCQyxRQUFRLEVBQUUsVUFBVTtFQUNwQkMsUUFBUSxFQUFFLHdCQUF3QjtFQUNsQ0MsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxDQUFDO0FBQUMifQ==","map":{"version":3,"names":["mysql","require","pool","createPool","host","user","password","database","port"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\","sources":["database.js"],"sourcesContent":["var mysql = require(\"mysql\");\r\n\r\nexport const pool = mysql.createPool({\r\n  host: \"us-cdbr-east-06.cleardb.net\",\r\n  user: \"bcbbfa23540b29\",\r\n  password: \"8eedf331\",\r\n  database: \"heroku_b431d5eb0f8d695\",\r\n  port: 3306,\r\n});\r\n"],"mappings":";;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAErB,MAAMC,IAAI,GAAGF,KAAK,CAACG,UAAU,CAAC;EACnCC,IAAI,EAAE,6BAA6B;EACnCC,IAAI,EAAE,gBAAgB;EACtBC,QAAQ,EAAE,UAAU;EACpBC,QAAQ,EAAE,wBAAwB;EAClCC,IAAI,EAAE;AACR,CAAC,CAAC;AAAC"}},"mtime":1669077436433},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\routes\\\\auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = require(\"express\");\nvar authCtrl = _interopRequireWildcard(require(\"../controllers/auth.controller\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst router = (0, _express.Router)();\nrouter.post(\"/\", authCtrl.login);\nrouter.get(\"/:user/:pass\", authCtrl.loginmovil);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiYXV0aEN0cmwiLCJsb2dpbiIsImdldCIsImxvZ2lubW92aWwiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImF1dGgucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCAqIGFzIGF1dGhDdHJsIGZyb20gXCIuLi9jb250cm9sbGVycy9hdXRoLmNvbnRyb2xsZXJcIjtcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9cIiwgYXV0aEN0cmwubG9naW4pO1xyXG5yb3V0ZXIuZ2V0KFwiLzp1c2VyLzpwYXNzXCIsIGF1dGhDdHJsLmxvZ2lubW92aWwpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBMkQ7QUFBQTtBQUMzRCxNQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBTSxHQUFFO0FBRXZCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxHQUFHLEVBQUVDLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDO0FBQ2hDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxjQUFjLEVBQUVGLFFBQVEsQ0FBQ0csVUFBVSxDQUFDO0FBQUMsZUFFakNOLE1BQU07QUFBQSJ9","map":{"version":3,"names":["router","Router","post","authCtrl","login","get","loginmovil"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\routes\\","sources":["auth.routes.js"],"sourcesContent":["import { Router } from \"express\";\r\nimport * as authCtrl from \"../controllers/auth.controller\";\r\nconst router = Router();\r\n\r\nrouter.post(\"/\", authCtrl.login);\r\nrouter.get(\"/:user/:pass\", authCtrl.loginmovil);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA;AACA;AAA2D;AAAA;AAC3D,MAAMA,MAAM,GAAG,IAAAC,eAAM,GAAE;AAEvBD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAEC,QAAQ,CAACC,KAAK,CAAC;AAChCJ,MAAM,CAACK,GAAG,CAAC,cAAc,EAAEF,QAAQ,CAACG,UAAU,CAAC;AAAC,eAEjCN,MAAM;AAAA"}},"mtime":1668212260671},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\controllers\\\\auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.token = exports.loginmovil = exports.login = void 0;\nvar _database = require(\"../database\");\nconst jwt = require(\"jsonwebtoken\");\nconst secret = \"leidy-decret-access-token\";\nconst refreshTokenSecret = \"leidy-decret-refresh-access-token\";\nconst port = 2000;\nconst tokenLife = 900;\nconst refreshTokenLife = 86400;\nconst helpers = require(\"../libs/helpers\");\nconst bcrypt = require(\"bcryptjs\");\nconst refreshTokens = [];\nconst loginmovil = async (req, res) => {\n  const username = req.params.user;\n  const password = req.params.pass;\n  _database.pool.query(\"select * from trabajador where usuario=?;\", [username], function (err, result) {\n    try {\n      if (result[0].length != 0) {\n        const passold = String(result[0].contraseña);\n        if (bcrypt.compareSync(password, passold)) {\n          var id = result[0].idtrabajador;\n          var nombre = result[0].nombre;\n          var apellidos = result[0].apellidos;\n          const user = {\n            id: result[0].idtrabajador,\n            nombre: result[0].nombre,\n            apellidos: result[0].apellidos\n          };\n          const accessToken = jwt.sign({\n            user,\n            id,\n            nombre,\n            apellidos\n          }, secret, {\n            expiresIn: \"100000s\"\n          });\n          const refreshToken = jwt.sign({\n            user\n          }, refreshTokenSecret);\n          refreshTokens.push(refreshToken);\n          return res.status(200).json({\n            accessToken\n          });\n        } else {\n          return res.status(400).json(\"Username o Password incorrectos...!\");\n        }\n      }\n      return res.status(400).json(\"Username o Password incorrectos...!\");\n    } catch (error) {\n      return res.status(400).json(\"Error al VALIDAR USUARIO \");\n    }\n  });\n};\nexports.loginmovil = loginmovil;\nconst login = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  console.log(req.body);\n  _database.pool.query(\"select * from trabajador where usuario=?;\", [username], function (err, result) {\n    try {\n      if (result[0].length != 0) {\n        const passold = String(result[0].contraseña);\n        if (bcrypt.compareSync(password, passold)) {\n          var id = result[0].idtrabajador;\n          var nombre = result[0].nombre;\n          var apellidos = result[0].apellidos;\n          const user = {\n            id: result[0].idtrabajador,\n            nombre: result[0].nombre,\n            apellidos: result[0].apellidos,\n            admin: result[0].admin\n          };\n          const accessToken = jwt.sign({\n            user,\n            id,\n            nombre,\n            apellidos\n          }, secret, {\n            expiresIn: \"100000s\"\n          });\n          const refreshToken = jwt.sign({\n            user\n          }, refreshTokenSecret);\n          refreshTokens.push(refreshToken);\n          return res.status(200).json({\n            accessToken,\n            refreshToken\n          });\n        } else {\n          return res.status(400).json(\"Username o Password incorrectos...!\");\n        }\n      }\n      return res.status(400).json(\"Username o Password incorrectos...!\");\n    } catch (error) {\n      return res.status(400).json(\"Error al VALIDAR USUARIO \");\n    }\n  });\n};\nexports.login = login;\nconst token = async (req, res) => {\n  try {\n    const {\n      token\n    } = req.body;\n    if (!token) {\n      return res.sendStatus(401);\n    }\n    if (!refreshTokens.includes(token)) {\n      return res.sendStatus(403);\n    }\n    jwt.verify(token, config.refreshTokenSecret, (err, user) => {\n      if (err) {\n        return res.sendStatus(403);\n      }\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.token = token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2VjcmV0IiwicmVmcmVzaFRva2VuU2VjcmV0IiwicG9ydCIsInRva2VuTGlmZSIsInJlZnJlc2hUb2tlbkxpZmUiLCJoZWxwZXJzIiwiYmNyeXB0IiwicmVmcmVzaFRva2VucyIsImxvZ2lubW92aWwiLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhcmFtcyIsInVzZXIiLCJwYXNzd29yZCIsInBhc3MiLCJwb29sIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJsZW5ndGgiLCJwYXNzb2xkIiwiU3RyaW5nIiwiY29udHJhc2XDsWEiLCJjb21wYXJlU3luYyIsImlkIiwiaWR0cmFiYWphZG9yIiwibm9tYnJlIiwiYXBlbGxpZG9zIiwiYWNjZXNzVG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwicmVmcmVzaFRva2VuIiwicHVzaCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImxvZ2luIiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJhZG1pbiIsInRva2VuIiwic2VuZFN0YXR1cyIsImluY2x1ZGVzIiwidmVyaWZ5IiwiY29uZmlnIiwiZSJdLCJzb3VyY2VSb290IjoiRDpcXGdpdGh1YmRlc2tvcFxcYmFja2VuZF9ub2RlaW50ZWdyYWRvclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJhdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9vbCB9IGZyb20gXCIuLi9kYXRhYmFzZVwiO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xyXG5jb25zdCBzZWNyZXQgPSBcImxlaWR5LWRlY3JldC1hY2Nlc3MtdG9rZW5cIjtcclxuY29uc3QgcmVmcmVzaFRva2VuU2VjcmV0ID0gXCJsZWlkeS1kZWNyZXQtcmVmcmVzaC1hY2Nlc3MtdG9rZW5cIjtcclxuY29uc3QgcG9ydCA9IDIwMDA7XHJcbmNvbnN0IHRva2VuTGlmZSA9IDkwMDtcclxuY29uc3QgcmVmcmVzaFRva2VuTGlmZSA9IDg2NDAwO1xyXG5jb25zdCBoZWxwZXJzID0gcmVxdWlyZShcIi4uL2xpYnMvaGVscGVyc1wiKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCByZWZyZXNoVG9rZW5zID0gW107XHJcbmV4cG9ydCBjb25zdCBsb2dpbm1vdmlsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXI7XHJcbiAgY29uc3QgcGFzc3dvcmQgPSByZXEucGFyYW1zLnBhc3M7XHJcblxyXG4gIHBvb2wucXVlcnkoXHJcbiAgICBcInNlbGVjdCAqIGZyb20gdHJhYmFqYWRvciB3aGVyZSB1c3VhcmlvPT87XCIsXHJcbiAgICBbdXNlcm5hbWVdLFxyXG4gICAgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdFswXS5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgY29uc3QgcGFzc29sZCA9IFN0cmluZyhyZXN1bHRbMF0uY29udHJhc2XDsWEpO1xyXG4gICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgcGFzc29sZCkpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gcmVzdWx0WzBdLmlkdHJhYmFqYWRvcjtcclxuICAgICAgICAgICAgdmFyIG5vbWJyZSA9IHJlc3VsdFswXS5ub21icmU7XHJcbiAgICAgICAgICAgIHZhciBhcGVsbGlkb3MgPSByZXN1bHRbMF0uYXBlbGxpZG9zO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICAgICAgICAgIGlkOiByZXN1bHRbMF0uaWR0cmFiYWphZG9yLFxyXG4gICAgICAgICAgICAgIG5vbWJyZTogcmVzdWx0WzBdLm5vbWJyZSxcclxuICAgICAgICAgICAgICBhcGVsbGlkb3M6IHJlc3VsdFswXS5hcGVsbGlkb3MsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gand0LnNpZ24oXHJcbiAgICAgICAgICAgICAgeyB1c2VyLCBpZCwgbm9tYnJlLCBhcGVsbGlkb3MgfSxcclxuICAgICAgICAgICAgICBzZWNyZXQsXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjEwMDAwMHNcIixcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGp3dC5zaWduKHsgdXNlciB9LCByZWZyZXNoVG9rZW5TZWNyZXQpO1xyXG4gICAgICAgICAgICByZWZyZXNoVG9rZW5zLnB1c2gocmVmcmVzaFRva2VuKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXCJVc2VybmFtZSBvIFBhc3N3b3JkIGluY29ycmVjdG9zLi4uIVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFwiVXNlcm5hbWUgbyBQYXNzd29yZCBpbmNvcnJlY3Rvcy4uLiFcIik7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFwiRXJyb3IgYWwgVkFMSURBUiBVU1VBUklPIFwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgcG9vbC5xdWVyeShcclxuICAgIFwic2VsZWN0ICogZnJvbSB0cmFiYWphZG9yIHdoZXJlIHVzdWFyaW89PztcIixcclxuICAgIFt1c2VybmFtZV0sXHJcbiAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAocmVzdWx0WzBdLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICBjb25zdCBwYXNzb2xkID0gU3RyaW5nKHJlc3VsdFswXS5jb250cmFzZcOxYSk7XHJcbiAgICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBwYXNzb2xkKSkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSByZXN1bHRbMF0uaWR0cmFiYWphZG9yO1xyXG4gICAgICAgICAgICB2YXIgbm9tYnJlID0gcmVzdWx0WzBdLm5vbWJyZTtcclxuICAgICAgICAgICAgdmFyIGFwZWxsaWRvcyA9IHJlc3VsdFswXS5hcGVsbGlkb3M7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IHJlc3VsdFswXS5pZHRyYWJhamFkb3IsXHJcbiAgICAgICAgICAgICAgbm9tYnJlOiByZXN1bHRbMF0ubm9tYnJlLFxyXG4gICAgICAgICAgICAgIGFwZWxsaWRvczogcmVzdWx0WzBdLmFwZWxsaWRvcyxcclxuICAgICAgICAgICAgICBhZG1pbjogcmVzdWx0WzBdLmFkbWluLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGp3dC5zaWduKFxyXG4gICAgICAgICAgICAgIHsgdXNlciwgaWQsIG5vbWJyZSwgYXBlbGxpZG9zIH0sXHJcbiAgICAgICAgICAgICAgc2VjcmV0LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogXCIxMDAwMDBzXCIsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3Quc2lnbih7IHVzZXIgfSwgcmVmcmVzaFRva2VuU2VjcmV0KTtcclxuICAgICAgICAgICAgcmVmcmVzaFRva2Vucy5wdXNoKHJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgICAgcmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcIlVzZXJuYW1lIG8gUGFzc3dvcmQgaW5jb3JyZWN0b3MuLi4hXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXCJVc2VybmFtZSBvIFBhc3N3b3JkIGluY29ycmVjdG9zLi4uIVwiKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXCJFcnJvciBhbCBWQUxJREFSIFVTVUFSSU8gXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0b2tlbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHRva2VuIH0gPSByZXEuYm9keTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJlZnJlc2hUb2tlbnMuaW5jbHVkZXModG9rZW4pKSB7XHJcbiAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDMpO1xyXG4gICAgfVxyXG4gICAgand0LnZlcmlmeSh0b2tlbiwgY29uZmlnLnJlZnJlc2hUb2tlblNlY3JldCwgKGVyciwgdXNlcikgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFNQyxNQUFNLEdBQUcsMkJBQTJCO0FBQzFDLE1BQU1DLGtCQUFrQixHQUFHLG1DQUFtQztBQUM5RCxNQUFNQyxJQUFJLEdBQUcsSUFBSTtBQUNqQixNQUFNQyxTQUFTLEdBQUcsR0FBRztBQUNyQixNQUFNQyxnQkFBZ0IsR0FBRyxLQUFLO0FBQzlCLE1BQU1DLE9BQU8sR0FBR04sT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzFDLE1BQU1PLE1BQU0sR0FBR1AsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNUSxhQUFhLEdBQUcsRUFBRTtBQUNqQixNQUFNQyxVQUFVLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUMsTUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSTtFQUNoQyxNQUFNQyxRQUFRLEdBQUdMLEdBQUcsQ0FBQ0csTUFBTSxDQUFDRyxJQUFJO0VBRWhDQyxjQUFJLENBQUNDLEtBQUssQ0FDUiwyQ0FBMkMsRUFDM0MsQ0FBQ04sUUFBUSxDQUFDLEVBQ1YsVUFBVU8sR0FBRyxFQUFFQyxNQUFNLEVBQUU7SUFDckIsSUFBSTtNQUNGLElBQUlBLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsTUFBTSxJQUFJLENBQUMsRUFBRTtRQUN6QixNQUFNQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDSSxVQUFVLENBQUM7UUFDNUMsSUFBSWpCLE1BQU0sQ0FBQ2tCLFdBQVcsQ0FBQ1YsUUFBUSxFQUFFTyxP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","map":{"version":3,"names":["jwt","require","secret","refreshTokenSecret","port","tokenLife","refreshTokenLife","helpers","bcrypt","refreshTokens","loginmovil","req","res","username","params","user","password","pass","pool","query","err","result","length","passold","String","contraseña","compareSync","id","idtrabajador","nombre","apellidos","accessToken","sign","expiresIn","refreshToken","push","status","json","error","login","body","console","log","admin","token","sendStatus","includes","verify","config","e"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\controllers\\","sources":["auth.controller.js"],"sourcesContent":["import { pool } from \"../database\";\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst secret = \"leidy-decret-access-token\";\r\nconst refreshTokenSecret = \"leidy-decret-refresh-access-token\";\r\nconst port = 2000;\r\nconst tokenLife = 900;\r\nconst refreshTokenLife = 86400;\r\nconst helpers = require(\"../libs/helpers\");\r\nconst bcrypt = require(\"bcryptjs\");\r\nconst refreshTokens = [];\r\nexport const loginmovil = async (req, res) => {\r\n  const username = req.params.user;\r\n  const password = req.params.pass;\r\n\r\n  pool.query(\r\n    \"select * from trabajador where usuario=?;\",\r\n    [username],\r\n    function (err, result) {\r\n      try {\r\n        if (result[0].length != 0) {\r\n          const passold = String(result[0].contraseña);\r\n          if (bcrypt.compareSync(password, passold)) {\r\n            var id = result[0].idtrabajador;\r\n            var nombre = result[0].nombre;\r\n            var apellidos = result[0].apellidos;\r\n            const user = {\r\n              id: result[0].idtrabajador,\r\n              nombre: result[0].nombre,\r\n              apellidos: result[0].apellidos,\r\n            };\r\n            const accessToken = jwt.sign(\r\n              { user, id, nombre, apellidos },\r\n              secret,\r\n              {\r\n                expiresIn: \"100000s\",\r\n              }\r\n            );\r\n            const refreshToken = jwt.sign({ user }, refreshTokenSecret);\r\n            refreshTokens.push(refreshToken);\r\n            return res.status(200).json({\r\n              accessToken,\r\n            });\r\n          } else {\r\n            return res.status(400).json(\"Username o Password incorrectos...!\");\r\n          }\r\n        }\r\n        return res.status(400).json(\"Username o Password incorrectos...!\");\r\n      } catch (error) {\r\n        return res.status(400).json(\"Error al VALIDAR USUARIO \");\r\n      }\r\n    }\r\n  );\r\n};\r\nexport const login = async (req, res) => {\r\n  const { username, password } = req.body;\r\n  console.log(req.body);\r\n  pool.query(\r\n    \"select * from trabajador where usuario=?;\",\r\n    [username],\r\n    function (err, result) {\r\n      try {\r\n        if (result[0].length != 0) {\r\n          const passold = String(result[0].contraseña);\r\n          if (bcrypt.compareSync(password, passold)) {\r\n            var id = result[0].idtrabajador;\r\n            var nombre = result[0].nombre;\r\n            var apellidos = result[0].apellidos;\r\n            const user = {\r\n              id: result[0].idtrabajador,\r\n              nombre: result[0].nombre,\r\n              apellidos: result[0].apellidos,\r\n              admin: result[0].admin,\r\n            };\r\n            const accessToken = jwt.sign(\r\n              { user, id, nombre, apellidos },\r\n              secret,\r\n              {\r\n                expiresIn: \"100000s\",\r\n              }\r\n            );\r\n            const refreshToken = jwt.sign({ user }, refreshTokenSecret);\r\n            refreshTokens.push(refreshToken);\r\n            return res.status(200).json({\r\n              accessToken,\r\n              refreshToken,\r\n            });\r\n          } else {\r\n            return res.status(400).json(\"Username o Password incorrectos...!\");\r\n          }\r\n        }\r\n        return res.status(400).json(\"Username o Password incorrectos...!\");\r\n      } catch (error) {\r\n        return res.status(400).json(\"Error al VALIDAR USUARIO \");\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nexport const token = async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n    if (!token) {\r\n      return res.sendStatus(401);\r\n    }\r\n    if (!refreshTokens.includes(token)) {\r\n      return res.sendStatus(403);\r\n    }\r\n    jwt.verify(token, config.refreshTokenSecret, (err, user) => {\r\n      if (err) {\r\n        return res.sendStatus(403);\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n"],"mappings":"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"}},"mtime":1669077875470},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\libs\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\libs\\\\helpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nconst bcrypt = require(\"bcryptjs\");\nconst helpers = {};\nhelpers.encryptPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hash = await bcrypt.hash(password, salt);\n  return hash;\n};\nhelpers.matchPassword = async (pass, savepass) => {\n  try {\n    const salt = await bcrypt.compare(pass, savepass);\n    return salt;\n  } catch (e) {\n    console.log(e);\n    console.log(e);\n  }\n};\nmodule.exports = helpers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiY3J5cHQiLCJyZXF1aXJlIiwiaGVscGVycyIsImVuY3J5cHRQYXNzd29yZCIsInBhc3N3b3JkIiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwibWF0Y2hQYXNzd29yZCIsInBhc3MiLCJzYXZlcGFzcyIsImNvbXBhcmUiLCJlIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcbGlic1xcIiwic291cmNlcyI6WyJoZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3QgaGVscGVycyA9IHt9O1xyXG5cclxuaGVscGVycy5lbmNyeXB0UGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcclxuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgcmV0dXJuIGhhc2g7XHJcbn07XHJcbmhlbHBlcnMubWF0Y2hQYXNzd29yZCA9IGFzeW5jIChwYXNzLCBzYXZlcGFzcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzcywgc2F2ZXBhc3MpO1xyXG4gICAgcmV0dXJuIHNhbHQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICB9XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0gaGVscGVycztcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0FBRWxCQSxPQUFPLENBQUNDLGVBQWUsR0FBRyxNQUFPQyxRQUFRLElBQUs7RUFDNUMsTUFBTUMsSUFBSSxHQUFHLE1BQU1MLE1BQU0sQ0FBQ00sT0FBTyxDQUFDLEVBQUUsQ0FBQztFQUNyQyxNQUFNQyxJQUFJLEdBQUcsTUFBTVAsTUFBTSxDQUFDTyxJQUFJLENBQUNILFFBQVEsRUFBRUMsSUFBSSxDQUFDO0VBQzlDLE9BQU9FLElBQUk7QUFDYixDQUFDO0FBQ0RMLE9BQU8sQ0FBQ00sYUFBYSxHQUFHLE9BQU9DLElBQUksRUFBRUMsUUFBUSxLQUFLO0VBQ2hELElBQUk7SUFDRixNQUFNTCxJQUFJLEdBQUcsTUFBTUwsTUFBTSxDQUFDVyxPQUFPLENBQUNGLElBQUksRUFBRUMsUUFBUSxDQUFDO0lBQ2pELE9BQU9MLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT08sQ0FBQyxFQUFFO0lBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixDQUFDLENBQUM7SUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLENBQUMsQ0FBQztFQUNoQjtBQUNGLENBQUM7QUFDREcsTUFBTSxDQUFDQyxPQUFPLEdBQUdkLE9BQU8ifQ==","map":{"version":3,"names":["bcrypt","require","helpers","encryptPassword","password","salt","genSalt","hash","matchPassword","pass","savepass","compare","e","console","log","module","exports"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\libs\\","sources":["helpers.js"],"sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst helpers = {};\r\n\r\nhelpers.encryptPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10);\r\n  const hash = await bcrypt.hash(password, salt);\r\n  return hash;\r\n};\r\nhelpers.matchPassword = async (pass, savepass) => {\r\n  try {\r\n    const salt = await bcrypt.compare(pass, savepass);\r\n    return salt;\r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(e);\r\n  }\r\n};\r\nmodule.exports = helpers;\r\n"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,OAAO,GAAG,CAAC,CAAC;AAElBA,OAAO,CAACC,eAAe,GAAG,MAAOC,QAAQ,IAAK;EAC5C,MAAMC,IAAI,GAAG,MAAML,MAAM,CAACM,OAAO,CAAC,EAAE,CAAC;EACrC,MAAMC,IAAI,GAAG,MAAMP,MAAM,CAACO,IAAI,CAACH,QAAQ,EAAEC,IAAI,CAAC;EAC9C,OAAOE,IAAI;AACb,CAAC;AACDL,OAAO,CAACM,aAAa,GAAG,OAAOC,IAAI,EAAEC,QAAQ,KAAK;EAChD,IAAI;IACF,MAAML,IAAI,GAAG,MAAML,MAAM,CAACW,OAAO,CAACF,IAAI,EAAEC,QAAQ,CAAC;IACjD,OAAOL,IAAI;EACb,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACdC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;EAChB;AACF,CAAC;AACDG,MAAM,CAACC,OAAO,GAAGd,OAAO"}},"mtime":1669077764703},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\routes\\\\auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = require(\"express\");\nvar authCtrl = _interopRequireWildcard(require(\"../controllers/auth.controller\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst router = (0, _express.Router)();\nrouter.post(\"/\", authCtrl.login);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiYXV0aEN0cmwiLCJsb2dpbiJdLCJzb3VyY2VSb290IjoiRDpcXGdpdGh1YmRlc2tvcFxcYmFja2VuZF9ub2RlaW50ZWdyYWRvclxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0ICogYXMgYXV0aEN0cmwgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2F1dGguY29udHJvbGxlclwiO1xyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL1wiLCBhdXRoQ3RybC5sb2dpbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUEyRDtBQUFBO0FBQzNELE1BQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFNLEdBQUU7QUFFdkJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBRUMsUUFBUSxDQUFDQyxLQUFLLENBQUM7QUFBQyxlQUVsQkosTUFBTTtBQUFBIn0=","map":{"version":3,"names":["router","Router","post","authCtrl","login"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\routes\\","sources":["auth.routes.js"],"sourcesContent":["import { Router } from \"express\";\r\nimport * as authCtrl from \"../controllers/auth.controller\";\r\nconst router = Router();\r\n\r\nrouter.post(\"/\", authCtrl.login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA;AACA;AAA2D;AAAA;AAC3D,MAAMA,MAAM,GAAG,IAAAC,eAAM,GAAE;AAEvBD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAEC,QAAQ,CAACC,KAAK,CAAC;AAAC,eAElBJ,MAAM;AAAA"}},"mtime":1669083266418},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\controllers\\\\auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.token = exports.login = void 0;\nvar _database = require(\"../database\");\nconst jwt = require(\"jsonwebtoken\");\nconst secret = \"leidy-decret-access-token\";\nconst refreshTokenSecret = \"leidy-decret-refresh-access-token\";\nconst port = 2000;\nconst tokenLife = 900;\nconst refreshTokenLife = 86400;\nconst helpers = require(\"../libs/helpers\");\nconst bcrypt = require(\"bcryptjs\");\nconst refreshTokens = [];\nconst login = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  console.log(req.body);\n  _database.pool.query(\"select * from trabajador where usuario=?;\", [username], function (err, result) {\n    try {\n      if (result[0].length != 0) {\n        const passold = String(result[0].contraseña);\n        if (bcrypt.compareSync(password, passold)) {\n          var id = result[0].idtrabajador;\n          var nombre = result[0].nombre;\n          var apellidos = result[0].apellidos;\n          const user = {\n            id: result[0].idtrabajador,\n            nombre: result[0].nombre,\n            apellidos: result[0].apellidos,\n            admin: result[0].admin\n          };\n          const accessToken = jwt.sign({\n            user,\n            id,\n            nombre,\n            apellidos\n          }, secret, {\n            expiresIn: \"100000s\"\n          });\n          const refreshToken = jwt.sign({\n            user\n          }, refreshTokenSecret);\n          refreshTokens.push(refreshToken);\n          return res.status(200).json({\n            accessToken,\n            refreshToken\n          });\n        } else {\n          return res.status(400).json(\"Username o Password incorrectos...!\");\n        }\n      }\n      return res.status(400).json(\"Username o Password incorrectos...!\");\n    } catch (error) {\n      return res.status(400).json(\"Error al VALIDAR USUARIO \");\n    }\n  });\n};\nexports.login = login;\nconst token = async (req, res) => {\n  try {\n    const {\n      token\n    } = req.body;\n    if (!token) {\n      return res.sendStatus(401);\n    }\n    if (!refreshTokens.includes(token)) {\n      return res.sendStatus(403);\n    }\n    jwt.verify(token, config.refreshTokenSecret, (err, user) => {\n      if (err) {\n        return res.sendStatus(403);\n      }\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.token = token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2VjcmV0IiwicmVmcmVzaFRva2VuU2VjcmV0IiwicG9ydCIsInRva2VuTGlmZSIsInJlZnJlc2hUb2tlbkxpZmUiLCJoZWxwZXJzIiwiYmNyeXB0IiwicmVmcmVzaFRva2VucyIsImxvZ2luIiwicmVxIiwicmVzIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwicG9vbCIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0IiwibGVuZ3RoIiwicGFzc29sZCIsIlN0cmluZyIsImNvbnRyYXNlw7FhIiwiY29tcGFyZVN5bmMiLCJpZCIsImlkdHJhYmFqYWRvciIsIm5vbWJyZSIsImFwZWxsaWRvcyIsInVzZXIiLCJhZG1pbiIsImFjY2Vzc1Rva2VuIiwic2lnbiIsImV4cGlyZXNJbiIsInJlZnJlc2hUb2tlbiIsInB1c2giLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ0b2tlbiIsInNlbmRTdGF0dXMiLCJpbmNsdWRlcyIsInZlcmlmeSIsImNvbmZpZyIsImUiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvb2wgfSBmcm9tIFwiLi4vZGF0YWJhc2VcIjtcclxuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcclxuY29uc3Qgc2VjcmV0ID0gXCJsZWlkeS1kZWNyZXQtYWNjZXNzLXRva2VuXCI7XHJcbmNvbnN0IHJlZnJlc2hUb2tlblNlY3JldCA9IFwibGVpZHktZGVjcmV0LXJlZnJlc2gtYWNjZXNzLXRva2VuXCI7XHJcbmNvbnN0IHBvcnQgPSAyMDAwO1xyXG5jb25zdCB0b2tlbkxpZmUgPSA5MDA7XHJcbmNvbnN0IHJlZnJlc2hUb2tlbkxpZmUgPSA4NjQwMDtcclxuY29uc3QgaGVscGVycyA9IHJlcXVpcmUoXCIuLi9saWJzL2hlbHBlcnNcIik7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3QgcmVmcmVzaFRva2VucyA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICBwb29sLnF1ZXJ5KFxyXG4gICAgXCJzZWxlY3QgKiBmcm9tIHRyYWJhamFkb3Igd2hlcmUgdXN1YXJpbz0/O1wiLFxyXG4gICAgW3VzZXJuYW1lXSxcclxuICAgIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChyZXN1bHRbMF0ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgIGNvbnN0IHBhc3NvbGQgPSBTdHJpbmcocmVzdWx0WzBdLmNvbnRyYXNlw7FhKTtcclxuICAgICAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHBhc3NvbGQpKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHJlc3VsdFswXS5pZHRyYWJhamFkb3I7XHJcbiAgICAgICAgICAgIHZhciBub21icmUgPSByZXN1bHRbMF0ubm9tYnJlO1xyXG4gICAgICAgICAgICB2YXIgYXBlbGxpZG9zID0gcmVzdWx0WzBdLmFwZWxsaWRvcztcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IHtcclxuICAgICAgICAgICAgICBpZDogcmVzdWx0WzBdLmlkdHJhYmFqYWRvcixcclxuICAgICAgICAgICAgICBub21icmU6IHJlc3VsdFswXS5ub21icmUsXHJcbiAgICAgICAgICAgICAgYXBlbGxpZG9zOiByZXN1bHRbMF0uYXBlbGxpZG9zLFxyXG4gICAgICAgICAgICAgIGFkbWluOiByZXN1bHRbMF0uYWRtaW4sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gand0LnNpZ24oXHJcbiAgICAgICAgICAgICAgeyB1c2VyLCBpZCwgbm9tYnJlLCBhcGVsbGlkb3MgfSxcclxuICAgICAgICAgICAgICBzZWNyZXQsXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBcIjEwMDAwMHNcIixcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGp3dC5zaWduKHsgdXNlciB9LCByZWZyZXNoVG9rZW5TZWNyZXQpO1xyXG4gICAgICAgICAgICByZWZyZXNoVG9rZW5zLnB1c2gocmVmcmVzaFRva2VuKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgICByZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFwiVXNlcm5hbWUgbyBQYXNzd29yZCBpbmNvcnJlY3Rvcy4uLiFcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcIlVzZXJuYW1lIG8gUGFzc3dvcmQgaW5jb3JyZWN0b3MuLi4hXCIpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcIkVycm9yIGFsIFZBTElEQVIgVVNVQVJJTyBcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRva2VuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdG9rZW4gfSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICAgIH1cclxuICAgIGlmICghcmVmcmVzaFRva2Vucy5pbmNsdWRlcyh0b2tlbikpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMyk7XHJcbiAgICB9XHJcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcucmVmcmVzaFRva2VuU2VjcmV0LCAoZXJyLCB1c2VyKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0EsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU1DLE1BQU0sR0FBRywyQkFBMkI7QUFDMUMsTUFBTUMsa0JBQWtCLEdBQUcsbUNBQW1DO0FBQzlELE1BQU1DLElBQUksR0FBRyxJQUFJO0FBQ2pCLE1BQU1DLFNBQVMsR0FBRyxHQUFHO0FBQ3JCLE1BQU1DLGdCQUFnQixHQUFHLEtBQUs7QUFDOUIsTUFBTUMsT0FBTyxHQUFHTixPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDMUMsTUFBTU8sTUFBTSxHQUFHUCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1RLGFBQWEsR0FBRyxFQUFFO0FBRWpCLE1BQU1DLEtBQUssR0FBRyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN2QyxNQUFNO0lBQUVDLFFBQVE7SUFBRUM7RUFBUyxDQUFDLEdBQUdILEdBQUcsQ0FBQ0ksSUFBSTtFQUN2Q0MsT0FBTyxDQUFDQyxHQUFHLENBQUNOLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO0VBQ3JCRyxjQUFJLENBQUNDLEtBQUssQ0FDUiwyQ0FBMkMs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","map":{"version":3,"names":["jwt","require","secret","refreshTokenSecret","port","tokenLife","refreshTokenLife","helpers","bcrypt","refreshTokens","login","req","res","username","password","body","console","log","pool","query","err","result","length","passold","String","contraseña","compareSync","id","idtrabajador","nombre","apellidos","user","admin","accessToken","sign","expiresIn","refreshToken","push","status","json","error","token","sendStatus","includes","verify","config","e"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\controllers\\","sources":["auth.controller.js"],"sourcesContent":["import { pool } from \"../database\";\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst secret = \"leidy-decret-access-token\";\r\nconst refreshTokenSecret = \"leidy-decret-refresh-access-token\";\r\nconst port = 2000;\r\nconst tokenLife = 900;\r\nconst refreshTokenLife = 86400;\r\nconst helpers = require(\"../libs/helpers\");\r\nconst bcrypt = require(\"bcryptjs\");\r\nconst refreshTokens = [];\r\n\r\nexport const login = async (req, res) => {\r\n  const { username, password } = req.body;\r\n  console.log(req.body);\r\n  pool.query(\r\n    \"select * from trabajador where usuario=?;\",\r\n    [username],\r\n    function (err, result) {\r\n      try {\r\n        if (result[0].length != 0) {\r\n          const passold = String(result[0].contraseña);\r\n          if (bcrypt.compareSync(password, passold)) {\r\n            var id = result[0].idtrabajador;\r\n            var nombre = result[0].nombre;\r\n            var apellidos = result[0].apellidos;\r\n            const user = {\r\n              id: result[0].idtrabajador,\r\n              nombre: result[0].nombre,\r\n              apellidos: result[0].apellidos,\r\n              admin: result[0].admin,\r\n            };\r\n            const accessToken = jwt.sign(\r\n              { user, id, nombre, apellidos },\r\n              secret,\r\n              {\r\n                expiresIn: \"100000s\",\r\n              }\r\n            );\r\n            const refreshToken = jwt.sign({ user }, refreshTokenSecret);\r\n            refreshTokens.push(refreshToken);\r\n            return res.status(200).json({\r\n              accessToken,\r\n              refreshToken,\r\n            });\r\n          } else {\r\n            return res.status(400).json(\"Username o Password incorrectos...!\");\r\n          }\r\n        }\r\n        return res.status(400).json(\"Username o Password incorrectos...!\");\r\n      } catch (error) {\r\n        return res.status(400).json(\"Error al VALIDAR USUARIO \");\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nexport const token = async (req, res) => {\r\n  try {\r\n    const { token } = req.body;\r\n    if (!token) {\r\n      return res.sendStatus(401);\r\n    }\r\n    if (!refreshTokens.includes(token)) {\r\n      return res.sendStatus(403);\r\n    }\r\n    jwt.verify(token, config.refreshTokenSecret, (err, user) => {\r\n      if (err) {\r\n        return res.sendStatus(403);\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n"],"mappings":"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"}},"mtime":1669083277919},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\libs\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"filename\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\\\\src\\\\libs\\\\helpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\githubdeskop\\\\backend_nodeintegrador\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nconst bcrypt = require(\"bcryptjs\");\nconst helpers = {};\nhelpers.encryptPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  const hash = await bcrypt.hash(password, salt);\n  return hash;\n};\nhelpers.matchPassword = async (pass, savepass) => {\n  try {\n    const salt = await bcrypt.compare(pass, savepass);\n    return salt;\n  } catch (e) {\n    console.log(e);\n    console.log(e);\n  }\n};\nmodule.exports = helpers;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiY3J5cHQiLCJyZXF1aXJlIiwiaGVscGVycyIsImVuY3J5cHRQYXNzd29yZCIsInBhc3N3b3JkIiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwibWF0Y2hQYXNzd29yZCIsInBhc3MiLCJzYXZlcGFzcyIsImNvbXBhcmUiLCJlIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxnaXRodWJkZXNrb3BcXGJhY2tlbmRfbm9kZWludGVncmFkb3JcXHNyY1xcbGlic1xcIiwic291cmNlcyI6WyJoZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3QgaGVscGVycyA9IHt9O1xyXG5cclxuaGVscGVycy5lbmNyeXB0UGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcclxuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgcmV0dXJuIGhhc2g7XHJcbn07XHJcbmhlbHBlcnMubWF0Y2hQYXNzd29yZCA9IGFzeW5jIChwYXNzLCBzYXZlcGFzcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzcywgc2F2ZXBhc3MpO1xyXG4gICAgcmV0dXJuIHNhbHQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICB9XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0gaGVscGVycztcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0FBRWxCQSxPQUFPLENBQUNDLGVBQWUsR0FBRyxNQUFPQyxRQUFRLElBQUs7RUFDNUMsTUFBTUMsSUFBSSxHQUFHLE1BQU1MLE1BQU0sQ0FBQ00sT0FBTyxDQUFDLEVBQUUsQ0FBQztFQUNyQyxNQUFNQyxJQUFJLEdBQUcsTUFBTVAsTUFBTSxDQUFDTyxJQUFJLENBQUNILFFBQVEsRUFBRUMsSUFBSSxDQUFDO0VBQzlDLE9BQU9FLElBQUk7QUFDYixDQUFDO0FBQ0RMLE9BQU8sQ0FBQ00sYUFBYSxHQUFHLE9BQU9DLElBQUksRUFBRUMsUUFBUSxLQUFLO0VBQ2hELElBQUk7SUFDRixNQUFNTCxJQUFJLEdBQUcsTUFBTUwsTUFBTSxDQUFDVyxPQUFPLENBQUNGLElBQUksRUFBRUMsUUFBUSxDQUFDO0lBQ2pELE9BQU9MLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT08sQ0FBQyxFQUFFO0lBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixDQUFDLENBQUM7SUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLENBQUMsQ0FBQztFQUNoQjtBQUNGLENBQUM7QUFDREcsTUFBTSxDQUFDQyxPQUFPLEdBQUdkLE9BQU8ifQ==","map":{"version":3,"names":["bcrypt","require","helpers","encryptPassword","password","salt","genSalt","hash","matchPassword","pass","savepass","compare","e","console","log","module","exports"],"sourceRoot":"D:\\githubdeskop\\backend_nodeintegrador\\src\\libs\\","sources":["helpers.js"],"sourcesContent":["const bcrypt = require(\"bcryptjs\");\r\nconst helpers = {};\r\n\r\nhelpers.encryptPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10);\r\n  const hash = await bcrypt.hash(password, salt);\r\n  return hash;\r\n};\r\nhelpers.matchPassword = async (pass, savepass) => {\r\n  try {\r\n    const salt = await bcrypt.compare(pass, savepass);\r\n    return salt;\r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(e);\r\n  }\r\n};\r\nmodule.exports = helpers;\r\n"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,OAAO,GAAG,CAAC,CAAC;AAElBA,OAAO,CAACC,eAAe,GAAG,MAAOC,QAAQ,IAAK;EAC5C,MAAMC,IAAI,GAAG,MAAML,MAAM,CAACM,OAAO,CAAC,EAAE,CAAC;EACrC,MAAMC,IAAI,GAAG,MAAMP,MAAM,CAACO,IAAI,CAACH,QAAQ,EAAEC,IAAI,CAAC;EAC9C,OAAOE,IAAI;AACb,CAAC;AACDL,OAAO,CAACM,aAAa,GAAG,OAAOC,IAAI,EAAEC,QAAQ,KAAK;EAChD,IAAI;IACF,MAAML,IAAI,GAAG,MAAML,MAAM,CAACW,OAAO,CAACF,IAAI,EAAEC,QAAQ,CAAC;IACjD,OAAOL,IAAI;EACb,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACdC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;EAChB;AACF,CAAC;AACDG,MAAM,CAACC,OAAO,GAAGd,OAAO"}},"mtime":1669077764703}}